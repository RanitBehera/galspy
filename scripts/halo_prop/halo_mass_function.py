import numpy, galspy
from galspy.utility.Figure import MassFunctionFigure
import matplotlib.pyplot as plt

L150N2040 = "/mnt/home/student/cranit/NINJA/simulations/L150N2040/SNAPS"
L250N2040 = "/mnt/home/student/cranit/NINJA/simulations/L250N2040/SNAPS"

BOX1 = galspy.NavigationRoot(L150N2040).PIG(26)
BOX2 = galspy.NavigationRoot(L250N2040).PIG(25)

mffig = MassFunctionFigure()
mffig.PlotLMF("Seith-Tormen",9,ls='--',color='k',lw=1,alpha=0.5)


mffig.AddPIG_MF(BOX1,dm=True,gas=True,star=True,bh=True,color='m')
mffig.AddPIG_MF(BOX2,dm=True,gas=True,star=True,bh=True,color='c')

mffig.BeautifyPlot()

# z=9 Astrid SHMF
x = [7.023529411764706, 7.241176470588235, 7.576470588235294, 7.911764705882353, 8.323529411764707, 8.652941176470588, 8.994117647058824, 9.358823529411765, 9.7]
y = [-2.3245823389021476, -2.5250596658711215, -2.9451073985680187, -3.403341288782816, -3.9761336515513124, -4.5680190930787585, -5.26491646778043, -5.837708830548926, -6.954653937947494]
X=numpy.power(10,x)
Y=numpy.power(10,y)
mffig.ax[0].plot(X,Y*0.6736,lw=2,color='k',label="Astrid",ls="-.")
plt.show()

#     # --- Temporary for Astrid SHMF
#     if numpy.round(REDSHIFT,1)==9.0:
#         x = [7.023529411764706, 7.241176470588235, 7.576470588235294, 7.911764705882353, 8.323529411764707, 8.652941176470588, 8.994117647058824, 9.358823529411765, 9.7]
#         y = [-2.3245823389021476, -2.5250596658711215, -2.9451073985680187, -3.403341288782816, -3.9761336515513124, -4.5680190930787585, -5.26491646778043, -5.837708830548926, -6.954653937947494]
#     if numpy.round(REDSHIFT,1)==8.0:
#         x = [7.012820317195012, 7.262820317195012, 7.512820317195012, 7.762820317195012, 8.025640927828276, 8.301281855656551, 8.532051086425781, 8.762820317195011, 8.961538461538462, 9.173076923076923, 9.371795067420372, 9.512820317195011, 9.66025660588191, 9.80128185565655, 10.012820317195011, 10.365384615384615]
#         y = [-1.968912396380584, -2.1968914768212704, -2.445596100707992, -2.7564768805663933, -3.0777206693310246, -3.4196895271752665, -3.7202072981274386, -4.051813621431875, -4.352331866750472, -4.715025793674323, -5.056994651518566, -5.326424818851322, -5.678756211235369, -6.07253916487791, -6.7357508627539335, -7.233160110527377]
#     if numpy.round(REDSHIFT,1)==7.0:
#         x = [7.034246676275522, 7.335616612304624, 7.726027530406008, 8.061643829173903, 8.37671218488383, 8.684931330753344, 9.054794305796761, 9.342465508608308, 9.684931644290073, 9.897259971173433, 10.041095572579206, 10.369862661506687, 10.72602721686928]
#         y = [-1.6536309734637742, -1.8994413493542073, -2.312848964853215, -2.636871454090015, -2.9832399691584945, -3.351955021526399, -3.8324017374559336, -4.2234633271232624, -4.78212266786691, -5.2067032962817565, -5.486033222387455, -6.335195502152641, -6.949719907475487]
#     if numpy.round(REDSHIFT,1)==6.0:
#         x = [7.031389081467508, 7.8799997802734545, 8.764999941635136, 9.409999663543728, 10.264999598312409, 11.060000453186001]
#         y = [-1.378816988054881, -2.121951580331236, -2.9512194236923377, -3.707316542154029, -5.048780576307662, -6.829267843361102]
#     if numpy.round(REDSHIFT,1)==5.0:
#         x = [6.989949443575691, 7.713567423057761, 8.301507031386942, 9.055276680141938, 9.718592701269916, 10.351758433316727, 11.06030057816233, 11.422109567903366, 11.768844103199699]
#         y = [-1.1951220261064828, -1.6585362449705308, -2.146341449798821, -2.7560971184616907, -3.5609750923552075, -4.414633921680551, -5.609755389538705, -6.756097118461691, -7.268292192757565]
#     if numpy.round(REDSHIFT,1)==4.0:
#         x = [6.994999388885403, 8.374999141692982, 9.215000185394315, 9.829999821472141, 10.340000357055718, 10.954999993133544, 11.405000061798106, 11.765000116729755]
#         y = [-0.975609851408251, -1.8780484196687626, -2.536584943763459, -3.146341728922985, -3.707316542154029, -4.682926951810608, -5.536584664639295, -6.560974813231043]
#     else:
#         x = [6.994999388885403]
#         y = [-0.975609851408251]
#     X=numpy.power(10,x)
#     Y=numpy.power(10,y)
#     ax[0].plot(X,Y*HUBBLE,lw=2,color='k',label="Astrid",ls="-.")

#     # --- Temporary for Astrid BHMF
#     if numpy.round(REDSHIFT,1)==7.0:
#         x = [4.699115219910853, 4.9911505787063755, 5.265486689814112, 5.513274537040976, 5.69026539351669, 5.778761226855087, 6.044247916669198, 6.318584432877474, 6.663717129635819, 7.132743344907056, 7.4070798611153315, 7.681415567122526]
#         y = [-1.515267183074764, -1.5725190049458124, -1.8473281692523535, -2.0763359808934325, -2.5916031639681973, -2.9122136809402006, -4.4465650230373495, -5.190840017753193, -5.774809491904593, -6.438931988416657, -6.54198542503161, -6.862595417846729]
#     if numpy.round(REDSHIFT,1)==6.0:
#         x = [4.681415972223066, 4.973451331018588, 5.274336516208275, 5.504424710646813, 5.796460069442334, 6.061946759256446, 6.345133101858885, 6.5929201388846685, 6.92920381944993, 7.230088194438538, 7.4070798611153315, 7.654866898141115, 7.938053240743555, 8.185840277769339, 8.495575289353189]
#         y = [-1.171755727691588, -1.2633586951009539, -1.5267176522803503, -1.7442747326374013, -2.488549727353244, -3.759542112270997, -4.423664084626177, -4.870228976624306, -5.213740432007483, -5.488549596314024, -5.660305324005612, -6.152672092826087, -6.370229697340021, -6.6450388616465625, -6.851145734876469]
#     if numpy.round(REDSHIFT,1)==5.0:
#         x = [4.716814467598641, 4.982301157412753, 5.256637673621028, 5.530973379628223, 5.796460069442334, 6.053097743063362, 6.318584432877474, 6.5929201388846685, 6.849557812505697, 7.141593171301221, 7.389380208327005, 8.21238894675075, 8.504424305546273, 8.743362326378975, 9.035397685174495, 9.557522048609634]
#         y = [-0.9541983852560953, -0.9999999999999991, -1.2519084879738092, -1.4694655683308602, -1.984732751405625, -3.049618263093471, -3.6450384685288997, -4.011450338166365, -4.286259502472906, -4.629770957856083, -4.847328562370017, -5.7290076150822475, -6.09542053303348, -6.54198542503161, -6.656488544616824, -7.114504167898981]
#     # if numpy.round(REDSHIFT,1)==4.0:
#         # pass
#     else:
#         x = [4.716814467598641]
#         y = [-0.9541983852560953]

#     X=numpy.power(10,x)
#     Y=numpy.power(10,y)
#     ax[0].plot(X,Y*HUBBLE,lw=2,color='k',label="Astrid",ls="-.")




# MF_from_PIG(L150N2040,26,True,'r',"L150N2040") # 9:26, 8:34 , 7:43 , 6:52, 5:63
# MF_from_PIG(L250N2040,25,True,'g',"L250N2040") # 11:11, 10,17, 9:25


# plt.subplots_adjust(hspace=0)
# plt.show()